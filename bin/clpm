#!/bin/sh

# Currently only SBCL is supported, as the software development is in progress
# Other Common Lisp realizations need code rework and testing

cli=$(cat "${HOME}/quicklisp/dists/quicklisp/installed/systems/clpm.txt")/cli.lisp

# Discover lisp
sbcl=$(which sbcl)

if [ -n "${sbcl}" ]
then
    "${sbcl}" --noinform \
              --non-interactive \
              --eval '(ql:quickload :unix-opts)' \
              --load "${cli}" \
              --end-toplevel-options "$@"
else
    echo 'Install common lisp executable (sbcl)'
    exit 1
fi
